{% extends 'base.html' %}

{% block content %}
    <h2>Forgot Password</h2>
    
    {% if error %}
        <p class="error">{{ error }}</p>
    {% endif %}
    
    <form id="forgot-password-form" method="POST">
        {% csrf_token %}
        <input type="text" name="username" placeholder="Username" required>
        <input type="text" name="phone_number" placeholder="Phone Number" required>
        <input type="password" name="new_password" placeholder="New Password" required>
        <input type="password" name="confirm_password" placeholder="Confirm New Password" required>
        <button type="submit">Reset Password</button>
    </form>

    <script>
        // JavaScript to ask for confirmation before changing the password
        document.getElementById('forgot-password-form').addEventListener('submit', function(e) {
            e.preventDefault(); // Prevent form from submitting immediately
            var confirmChange = confirm("Really you want to change the password?");
            if (confirmChange) {
                this.submit(); // If confirmed, submit the form
            }
        });
    </script>
{% endblock %}
